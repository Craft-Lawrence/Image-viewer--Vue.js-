"use strict";function getImages(s,e,t){var r="42076a992c25543229955ad67affed158a462011ab024691aff774fd2aceec52",a="",u=[];return a=""==s?"https://api.unsplash.com/photos?&page="+t+"&per_page=6&order_by="+e+"&client_id="+r:"https://api.unsplash.com/search/photos?&page="+t+"&per_page=6&order_by="+e+"&client_id="+r+"&query="+s,$.ajax({type:"GET",url:a,async:!1,success:function(e){if(console.log(e),0<e.length||0<e.results.length)if(""==s)for(var t=0;t<e.length;t++)u.push({thumb:e[t].urls.small,regular:e[t].urls.regular,full:e[t].urls.full,date:e[t].updated_at,username:e[t].user.name,color:e[t].color});else for(var r=0;r<e.results.length;r++)u.push({thumb:e.results[r].urls.small,regular:e.results[r].urls.regular,full:e.results[r].urls.full,date:e.results[r].updated_at,username:e.results[r].user.name,color:e.results[r].color})}}),u}function pad(e){return e<10?"0"+e:e}var app=new Vue({el:"#app",data:{searchStr:"",tempStr:"",order:"latest",curPage:1,pagesMax:5,timeout:setTimeout(function(){},0)},methods:{submit:function(){this.searchStr=this.tempStr},input:function(){clearTimeout(this.timeout),this.timeout=setTimeout(function(){app.searchStr=app.tempStr},1e3)},beautifyDate:function(e){var t=new Date(e),r="";return r+=pad(t.getHours())+":"+pad(t.getMinutes())+" ",r+=pad(t.getDate())+"."+pad(t.getMonth()+1)+"."+pad(t.getFullYear())}},computed:{pages:function(){for(var e=[this.curPage],t="first";e.length!=this.pagesMax;)"last"==t?(e.push(e[e.length-1]+1),t="first"):"first"==t&&(1<e[0]&&e.unshift(e[0]-1),t="last");return e},images:function(){return getImages(this.searchStr,this.order,this.curPage)}}});